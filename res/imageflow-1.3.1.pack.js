/*
Name:       ImageFlow
Version:    1.3.0 (March 9 2010)
Author:     Finn Rudolph
Support:    http://finnrudolph.de/ImageFlow

License:    ImageFlow is licensed under a Creative Commons 
            Attribution-Noncommercial 3.0 Unported License 
            (http://creativecommons.org/licenses/by-nc/3.0/).

            You are free:
                + to Share - to copy, distribute and transmit the work
                + to Remix - to adapt the work

            Under the following conditions:
                + Attribution. You must attribute the work in the manner specified by the author or licensor 
                  (but not in any way that suggests that they endorse you or your use of the work). 
                + Noncommercial. You may not use this work for commercial purposes. 

            + For any reuse or distribution, you must make clear to others the license terms of this work.
            + Any of the above conditions can be waived if you get permission from the copyright holder.
            + Nothing in this license impairs or restricts the author's moral rights.

Credits:    This script is based on Michael L. Perrys Cover flow in Javascript [1].
            The reflections are generated server-sided by a slightly hacked version 
            of Richard Daveys easyreflections [2] written in PHP. The mouse wheel 
            support is an implementation of Adomas Paltanavicius JavaScript mouse 
            wheel code [3]. It also uses the domReadyEvent from Tanny O'Haley [4].

            [1] http://www.adventuresinsoftware.com/blog/?p=104#comment-1981
            [2] http://reflection.corephp.co.uk/v2.php
            [3] http://adomas.org/javascript-mouse-wheel/
            [4] http://tanny.ica.com/ICA/TKO/tkoblog.nsf/dx/domcontentloaded-for-browsers-part-v
*/

/* ImageFlow - compressed with http://dean.edwards.name/packer/ */
eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('d 4B(){b.2f={4d:50,34:1.4I,3h:g,3E:l,19:g,3C:\'1Q\',M:\'4D\',2y:1.0,C:4,45:\'\',2z:l,3n:0.4z,3A:1.0,2P:d(){n.4J=b.2h},3m:d(1E){L l},4e:d(1E){L l},20:g,24:[10,8,6,4,2],36:4K,35:18,4a:l,38:l,44:\'\',1Z:0.5,4n:g,3Q:\'\',3o:0.6,2Q:l,3l:\'e-4S\',1D:14,1w:g,4b:4y,4f:g,3B:1,3F:l,3H:g,1g:4T};a 7=b;b.U=d(2F){Y(a 1p 3Z 7.2f){b[1p]=(2F!==1t&&2F[1p]!==1t)?2F[1p]:7.2f[1p]}a r=n.N(7.M);9(r){r.k.1J=\'2g\';b.r=r;9(b.4c()){b.q=n.N(7.M+\'4U\');b.1L=n.N(7.M+\'4Q\');b.1h=n.N(7.M+\'4O\');b.Z=n.N(7.M+\'4V\');b.1G=n.N(7.M+\'4u\');b.2r=n.N(7.M+\'4t\');b.2s=n.N(7.M+\'4q\');b.29=n.N(7.M+\'4w\');b.2c=[];b.1A=0;b.f=0;b.17=0;b.1I=0;b.2C=l;b.2i=l;b.J=g;a 1b=b.r.3k;a S=T.V(1b/7.34);n.N(7.M+\'3f\').k.3p=((S*0.5)-22)+\'D\';r.k.S=S+\'D\';b.2j()}}};b.4c=d(){a q=7.m.O(\'X\',\'2N\');a F,2X,1v,12;a j=7.r.s.1F;Y(a y=0;y<j;y++){F=7.r.s[y];9(F&&F.2J==1&&F.2I==\'2L\'){9(7.38===l){2X=(7.4n)?\'3\':\'2\';1v=7.45+F.1x(\'1v\',2);1v=7.3Q+\'4r\'+2X+\'.4v?4x=\'+1v+7.44;F.2l(\'1v\',1v)}12=F.2a(l);q.I(12)}}9(7.19){a 1O=7.m.O(\'X\',\'2N\');a 1o=7.m.O(\'X\',\'2N\');j=q.s.1F;9(j<7.C){7.C=j}9(j>1){a i;Y(i=0;i<j;i++){F=q.s[i];9(i<7.C){12=F.2a(l);1O.I(12)}9(j-i<7.C+1){12=F.2a(l);1o.I(12)}}Y(i=0;i<j;i++){F=q.s[i];12=F.2a(l);1o.I(12)}Y(i=0;i<7.C;i++){F=1O.s[i];12=F.2a(l);1o.I(12)}q=1o}}9(7.1w){a 41=7.m.O(\'X\',\'1w\');q.I(41)}a 1M=7.m.O(\'p\',\'4s\');a 3R=n.3t(\' \');1M.I(3R);a 3c=7.m.O(\'X\',\'3z\');a 3W=7.m.O(\'X\',\'4N\');3c.I(3W);a 1L=7.m.O(\'X\',\'2b\');a Z=7.m.O(\'X\',\'4M\');a 1G=7.m.O(\'X\',\'2Q\');Z.I(1G);9(7.3h){a 2s=7.m.O(\'X\',\'4L\',\'3S\');a 2r=7.m.O(\'X\',\'4R\',\'3S\');Z.I(2s);Z.I(2r)}a 1h=7.m.O(\'X\',\'4A\');1h.I(1L);1h.I(Z);a 2S=g;9(7.r.I(q)&&7.r.I(1M)&&7.r.I(3c)&&7.r.I(1h)){j=7.r.s.1F;Y(y=0;y<j;y++){F=7.r.s[y];9(F&&F.2J==1&&F.2I==\'2L\'){7.r.4E(F)}}2S=l}L 2S};b.2j=d(){a p=7.3D();9((p<18||7.2i)&&7.4a){9(7.2i&&p==18){7.2i=g;A.1r(7.2j,18)}t{A.1r(7.2j,40)}}t{n.N(7.M+\'3f\').k.1W=\'2W\';n.N(7.M+\'4H\').k.1W=\'2W\';A.1r(7.m.3P,4F);7.2D();9(7.j>1){7.1c.U();7.u.U();7.B.U();7.2A.U();9(7.1w){7.G.U()}9(7.2Q){7.Z.k.1J=\'2g\'}}}};b.3D=d(){a j=7.q.s.1F;a i=0,1Y=0;a c=R;Y(a y=0;y<j;y++){c=7.q.s[y];9(c&&c.2J==1&&c.2I==\'2L\'){9(c.3T){1Y++}i++}}a 23=T.V((1Y/i)*18);a 3r=n.N(7.M+\'4G\');3r.k.1b=23+\'%\';9(7.19){i=i-(7.C*2);1Y=(23<1)?0:T.V((i/18)*23)}a 1M=n.N(7.M+\'3f\');a 3G=n.3t(\'3z 2N \'+1Y+\'/\'+i);1M.4P(3G,1M.4p);L 23};b.2D=d(){b.P=7.q.3k+7.q.4m;b.1u=T.V(7.P/7.34);b.2e=7.C*7.1g;b.1N=7.P*0.5;b.1D=7.1D*0.5;b.1d=(7.P-(T.V(7.1D)*2))*7.3o;b.2K=T.V(7.1u*7.3n);7.r.k.S=7.1u+\'D\';7.q.k.S=7.2K+\'D\';7.1h.k.S=(7.1u-7.2K)+\'D\';7.1L.k.1b=7.P+\'D\';7.1L.k.3p=T.V(7.P*0.3j)+\'D\';7.Z.k.1b=7.1d+\'D\';7.Z.k.4C=T.V(7.P*0.3j)+\'D\';7.Z.k.2R=T.V(7.1D+((7.P-7.1d)/2))+\'D\';7.1G.k.3I=7.3l;7.1G.54=d(){7.u.1B(b);L g};9(7.3h){7.2s.1n=d(){7.1c.15(1)};7.2r.1n=d(){7.1c.15(-1)}}a 3q=(7.38===l)?7.1Z+1:1;a j=7.q.s.1F;a i=0;a c=R;Y(a y=0;y<j;y++){c=7.q.s[y];9(c!==R&&c.2J==1&&c.2I==\'2L\'){b.2c[i]=y;c.2h=c.1x(\'5B\');c.5A=(-i*7.1g);c.i=i;9(7.2C){9(c.1x(\'1b\')!==R&&c.1x(\'S\')!==R){c.w=c.1x(\'1b\');c.h=c.1x(\'S\')*3q}t{c.w=c.1b;c.h=c.S}}9((c.w)>(c.h/(7.1Z+1))){c.1f=7.36;c.2v=7.36}t{c.1f=7.35;c.2v=7.35}9(7.2z===g){c.k.5D=\'5E\';c.k.1W=\'5z\'}c.k.3I=7.3C;i++}}b.j=7.2c.1F;9(7.2z===g){c=7.q.s[7.2c[0]];b.3x=c.w*7.j;c.k.5y=(7.P/2)+(c.w/2)+\'D\';7.q.k.S=c.h+\'D\';7.1h.k.S=(7.1u-c.h)+\'D\'}9(7.2C){7.2C=g;7.f=7.3B-1;9(7.f<0){7.f=0}9(7.19){7.f=7.f+7.C}31=(7.19)?(7.j-(7.C))-1:7.j-1;9(7.f>31){7.f=31}9(7.3F===g){7.1R(-7.f*7.1g)}9(7.3H){7.1R(5t)}}9(7.j>1){7.1K(7.f)}7.1R(7.1A)};b.1R=d(x){b.1A=x;b.1i=7.j;Y(a y=0;y<7.j;y++){a c=7.q.s[7.2c[y]];a 26=y*-7.1g;9(7.2z){9((26+7.2e)<7.1I||(26-7.2e)>7.1I){c.k.1J=\'3y\';c.k.1W=\'2W\'}t{a z=(T.5s(5u+x*x)+18)*7.3A;a 3u=x/z*7.1N+7.1N;c.k.1W=\'5v\';a 1k=(c.h/c.w*c.1f)/z*7.1N;a 25=0;1P(1k>7.1u){1y g:25=c.1f/z*7.1N;W;1Q:1k=7.1u;25=c.w*1k/c.h;W}a 3w=(7.2K-1k)+((1k/(7.1Z+1))*7.1Z);c.k.49=3u-(c.1f/2)/z*7.1N+\'D\';9(25&&1k){c.k.S=1k+\'D\';c.k.1b=25+\'D\';c.k.5G=3w+\'D\'}c.k.1J=\'2g\';1P(x<0){1y l:b.1i++;W;1Q:b.1i=7.1i-1;W}1P(c.i==7.f){1y g:c.1n=d(){7.1K(b.i)};W;1Q:b.1i=7.1i+1;9(c.2h!==\'\'){c.1n=7.2P}W}c.k.1i=7.1i}}t{9((26+7.2e)<7.1I||(26-7.2e)>7.1I){c.k.1J=\'3y\'}t{c.k.1J=\'2g\';1P(c.i==7.f){1y g:c.1n=d(){7.1K(b.i)};W;1Q:9(c.2h!==\'\'){c.1n=7.2P}W}}7.q.k.2R=(x-7.3x)+\'D\'}x+=7.1g}};b.1K=d(f){a 28,1H;9(7.19){9(f+1===7.C){1H=7.j-7.C;28=-1H*7.1g;f=1H-1}9(f===(7.j-7.C)){1H=7.C-1;28=-1H*7.1g;f=1H+1}}a x=-f*7.1g;b.17=x;b.1I=x;b.f=f;a 2b=7.q.s[f].1x(\'5F\');9(2b===\'\'||7.3E===g){2b=\'&5H;\'}7.1L.5N=2b;7.3m(f);9(7.u.J===g){9(7.19){b.16=((f-7.C)*7.1d)/(7.j-(7.C*2)-1)-7.u.E}t{b.16=(f*7.1d)/(7.j-1)-7.u.E}7.1G.k.2R=(7.16-7.1D)+\'D\'}9(7.20===l||7.2y!==7.2f.2y){7.m.2O(7.q.s[f],7.24[0]);7.q.s[f].1f=7.q.s[f].1f*7.2y;a 1X=0;a 1S=0;a 1T=0;a 1o=7.24.1F;Y(a i=1;i<(7.C+1);i++){9((i+1)>1o){1X=7.24[1o-1]}t{1X=7.24[i]}1S=f+i;1T=f-i;9(1S<7.j){7.m.2O(7.q.s[1S],1X);7.q.s[1S].1f=7.q.s[1S].2v}9(1T>=0){7.m.2O(7.q.s[1T],1X);7.q.s[1T].1f=7.q.s[1T].2v}}}9(28){7.1R(28)}9(7.J===g){7.J=l;7.2U()}};b.2U=d(){1P(7.17<7.1A-1||7.17>7.1A+1){1y l:7.1R(7.1A+(7.17-7.1A)/3);A.1r(7.2U,7.4d);7.J=l;W;1Q:7.J=g;7.4e(7.f);W}};b.2G=d(f){9(7.1w){7.G.2B()}7.1K(f)};b.G={2M:1,U:d(){(7.4f)?7.G.1B():7.G.1e()},2B:d(){7.m.33(7.r,\'4g\',7.G.2B);7.G.1e()},47:d(){7.m.11(7.r,\'4g\',7.G.2B)},1B:d(){7.m.2p(7.29,\'1w 5Q\');7.29.1n=d(){7.G.1e()};7.G.4i=A.5P(7.G.2T,7.4b);A.1r(7.G.47,18)},1e:d(){7.m.2p(7.29,\'1w 5M\');7.29.1n=d(){7.G.1B()};A.4W(7.G.4i)},2T:d(){a 1s=7.f+7.G.2M;a 2u=g;9(1s===7.j){7.G.2M=-1;2u=l}9(1s<0){7.G.2M=1;2u=l}(2u)?7.G.2T():7.1K(1s)}};b.1c={U:d(){9(A.1m){7.r.1m(\'5I\',7.1c.2d,g)}7.m.11(7.r,\'5J\',7.1c.2d)},2d:d(v){a 1C=0;9(!v){v=A.v}9(v.3J){1C=v.3J/5L}t 9(v.4h){1C=-v.4h/3}9(1C){7.1c.15(1C)}7.m.2o(v)},15:d(1C){a 2q=g;a 1s=0;9(1C>0){9(7.f>=1){1s=7.f-1;2q=l}}t{9(7.f<(7.j-1)){1s=7.f+1;2q=l}}9(2q){7.2G(1s)}}};b.u={1j:R,3i:0,2k:0,E:0,J:g,U:d(){7.m.11(7.r,\'5R\',7.u.4l);7.m.11(7.r,\'4o\',7.u.1e);7.m.11(n,\'4o\',7.u.1e);7.r.5O=d(){a 32=l;9(7.u.J){32=g}L 32}},1B:d(o){7.u.1j=o;7.u.3i=7.u.2k-o.4m+7.16},1e:d(){7.u.1j=R;7.u.J=g},4l:d(e){a 2n=0;9(!e){e=A.v}9(e.2V){2n=e.2V}t 9(e.4j){2n=e.4j+n.3g.4k+n.5r.4k}7.u.2k=2n;9(7.u.1j!==R){a E=(7.u.2k-7.u.3i)+7.1D;9(E<(-7.16)){E=-7.16}9(E>(7.1d-7.16)){E=7.1d-7.16}a 1U,f;9(7.19){1U=(E+7.16)/(7.1d/(7.j-(7.C*2)-1));f=T.V(1U)+7.C}t{1U=(E+7.16)/(7.1d/(7.j-1));f=T.V(1U)}7.u.E=E;7.u.1j.k.49=E+\'D\';9(7.f!==f){7.2G(f)}7.u.J=l}}};b.B={x:0,2Z:0,2w:0,J:g,1O:l,U:d(){7.m.11(7.1h,\'57\',7.B.1B);7.m.11(n,\'56\',7.B.15);7.m.11(n,\'58\',7.B.1e)},3M:d(e){a 3d=g;9(e.2t){a 17=e.2t[0].17;9(17===7.1h||17===7.1G||17===7.Z){3d=l}}L 3d},3a:d(e){a x=0;9(e.2t){x=e.2t[0].2V}L x},1B:d(e){7.B.2Z=7.B.3a(e);7.B.J=l;7.m.2o(e)},3L:d(){a J=g;9(7.B.J){J=l}L J},15:d(e){9(7.B.3L&&7.B.3M(e)){a j=(7.19)?(7.j-(7.C*2)-1):(7.j-1);9(7.B.1O){7.B.2w=(j-7.f)*(7.P/j);7.B.1O=g}a E=-(7.B.3a(e)-7.B.2Z-7.B.2w);9(E<0){E=0}9(E>7.P){E=7.P}7.B.x=E;a f=T.V(E/(7.P/j));f=j-f;9(7.f!==f){9(7.19){f=f+7.C}7.2G(f)}7.m.2o(e)}},1e:d(){7.B.2w=7.B.x;7.B.J=g}};b.2A={U:d(){n.5a=d(v){7.2A.15(v)}},15:d(v){a 3V=7.2A.2d(v);1P(3V){1y 39:7.1c.15(-1);W;1y 37:7.1c.15(1);W}},2d:d(v){v=v||A.v;L v.4Y}};b.m={11:d(H,K,Q){9(H.1m){H.1m(K,Q,g)}t 9(H.3Y){H["e"+K+Q]=Q;H[K+Q]=d(){H["e"+K+Q](A.v)};H.3Y("3O"+K,H[K+Q])}},33:d(H,K,Q){9(H.3X){H.3X(K,Q,g)}t 9(H.3K){9(H[K+Q]===1t){4X(\'m.33 » 4Z 43 3U v 51 1t - 53 52 5b 5c 43 3U 5m 5l v?\')}H.3K(\'3O\'+K,H[K+Q]);H[K+Q]=R;H[\'e\'+K+Q]=R}},2O:d(1j,30){9(7.20===l){1j.k.20=30/10;1j.k.5n=\'5o(20=\'+30*10+\')\'}},O:d(K,1E,3b){a 1q=n.5p(K);1q.2l(\'1E\',7.M+\'5k\'+1E);9(3b!==1t){1E+=\' \'+3b}7.m.2p(1q,1E);L 1q},2p:d(1q,2m){9(1q){1q.2l(\'5e\',2m);1q.2l(\'2m\',2m)}},2o:d(e){9(e.48){e.48()}t{e.5f=g}L g},3P:d(){a 2Y=A.2x;9(21 A.2x!=\'d\'){A.2x=d(){7.2D()}}t{A.2x=d(){9(2Y){2Y()}7.2D()}}}}}a 1l={1p:"1l",27:{},1z:1,1V:g,3e:R,3s:d(13){9(!13.$$1z){13.$$1z=b.1z++;9(b.1V){13()}b.27[13.$$1z]=13}},5g:d(13){9(13.$$1z){5i b.27[13.$$1z]}},1a:d(){9(b.1V){L}b.1V=l;Y(a i 3Z b.27){b.27[i]()}},2H:d(){9(b.1V){L}9(/5h|5q/i.3N(5d.5j)){9(/55|3T/.3N(n.59)){b.1a()}t{1r(b.1p+".2H()",18)}}t 9(n.N("5K")){L l}9(21 b.3e==="d"){9(21 n.46!==\'1t\'&&(n.46(\'3g\')[0]!==R||n.3g!==R)){9(b.3e()){b.1a()}t{1r(b.1p+".2H()",5w)}}}L l},U:d(){9(n.1m){n.1m("5x",d(){1l.1a()},g)}1r("1l.2H()",18);d 1a(){1l.1a()}9(21 11!=="1t"){11(A,"42",1a)}t 9(n.1m){n.1m("42",1a,g)}t 9(21 A.2E==="d"){a 3v=A.2E;A.2E=d(){1l.1a();3v()}}t{A.2E=1a}}};a 5C=d(13){1l.3s(13)};1l.U();',62,364,'|||||||my||if|var|this|image|function||imageID|false|||max|style|true|Helper|document|||imagesDiv|ImageFlowDiv|childNodes|else|MouseDrag|event|||index||window|Touch|imageFocusMax|px|newX|node|Slideshow|obj|appendChild|busy|type|return|ImageFlowID|getElementById|createDocumentElement|imagesDivWidth|fn|null|height|Math|init|round|break|div|for|scrollbarDiv||addEvent|imageNode|handler||handle|newSliderX|target|100|circular|run|width|MouseWheel|scrollbarWidth|stop|pc|xStep|navigationDiv|zIndex|object|newImageH|domReadyEvent|addEventListener|onclick|last|name|element|setTimeout|newImageID|undefined|maxHeight|src|slideshow|getAttribute|case|domReadyID|current|start|delta|sliderWidth|id|length|sliderDiv|clonedImageID|memTarget|visibility|glideTo|captionDiv|loadingP|size|first|switch|default|moveTo|rightID|leftID|step|bDone|display|opacityValue|completed|reflectionP|opacity|typeof||finished|opacityArray|newImageW|currentImage|events|jumpTarget|buttonSlideshow|cloneNode|caption|indexArray|get|maxFocus|defaults|visible|url|firstCheck|loadingProgress|mouseX|setAttribute|className|posx|suppressBrowserDefault|setClassName|change|buttonNextDiv|buttonPreviousDiv|touches|reverseDirection|pcMem|stopX|onresize|imageFocusM|imageScaling|Key|interrupt|firstRefresh|refresh|onload|options|glideOnEvent|schedule|nodeName|nodeType|imagesDivHeight|IMG|direction|images|setOpacity|onClick|slider|marginLeft|success|slide|animate|pageX|none|version|otherFunctions|startX|value|maxId|selection|removeEvent|aspectRatio|percentOther|percentLandscape||reflections||getX|optionalClass|loadingDiv|state|DOMContentLoadedCustom|_loading_txt|body|buttons|objectX|02|offsetWidth|sliderCursor|onBefore|imagesHeight|scrollbarP|paddingTop|multi|loadingBar|add|createTextNode|xs|oldonload|newImageTop|totalImagesWidth|hidden|loading|imagesM|startID|imageCursor|loadingStatus|captions|glideToStartID|loadingTxt|startAnimation|cursor|wheelDelta|detachEvent|isBusy|isOnNavigationDiv|test|on|addResizeEvent|reflectPath|loadingText|button|complete|detach|charCode|loadingBarDiv|removeEventListener|attachEvent|in||slideshowButton|load|to|reflectionGET|imagePath|getElementsByTagName|addInterruptEvent|preventDefault|left|preloadImages|slideshowSpeed|createStructure|animationSpeed|onAfter|slideshowAutoplay|click|detail|action|clientX|scrollLeft|drag|offsetLeft|reflectionPNG|mouseup|firstChild|_previous|reflect|loading_txt|_next|_slider|php|_slideshow|img|1500|67|navigation|ImageFlow|marginTop|imageflow|removeChild|1000|_loading_bar|_loading|964|location|118|previous|scrollbar|loading_bar|_navigation|replaceChild|_caption|next|resize|150|_images|_scrollbar|clearInterval|alert|keyCode|Pointer||is|you|perhaps|onmousedown|loaded|touchmove|touchstart|touchend|readyState|onkeydown|are|trying|navigator|class|returnValue|remove|KHTML|delete|userAgent|_|unattached|an|filter|alpha|createElement|WebKit|documentElement|sqrt|5000|10000|block|250|DOMContentLoaded|paddingLeft|inline|xPosition|longdesc|domReady|position|relative|alt|top|nbsp|DOMMouseScroll|mousewheel|__ie_onload|120|play|innerHTML|onselectstart|setInterval|pause|mousemove'.split('|'),0,{}))

/* Create ImageFlow instances when the DOM structure has been loaded */
domReady(function() {
	var instanceOne = new ImageFlow();
	instanceOne.init({ ImageFlowID:'myImageFlow' });
});